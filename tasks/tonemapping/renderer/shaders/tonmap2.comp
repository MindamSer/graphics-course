#version 460



layout(local_size_x = 1, local_size_y = 1) in;

layout(binding = 0) buffer LuminanceHistBuffer
{
  float luminanceHistBuf[];
};



void main() {
  for(int i = 1; i < 256; ++i)
  {
    luminanceHistBuf[i] += luminanceHistBuf[i - 1];
  }
  if (luminanceHistBuf[255] != 0.f)
  {  
    for(int i = 0; i < 256; ++i)
    {
      luminanceHistBuf[i] /= luminanceHistBuf[255];
    }
  }
}